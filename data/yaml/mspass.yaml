# Notes on the format of this master configuration file
# Multiple groups of attributes can be defined in indented sections.  The
# top level master is Attributes.  Exensions should be added in groups with
# appropriate names.  All will be parsed.
#
# All real number values should have type: set to double because python float
# today is always a 64 bit entity which to C++ is a double
#
# For each entry these keys are required:  name, type, and concept.
# If aliases is missing it means tehre are none.  You can also just have no entry after the keyword
# readonly is a boolean.  If is present it will be taken as true unless explicitly marked false
#   Hence, normally just omit this for atributes that are to be automatically written
#   and updated.
# unique_id and table are required ONLY if readonly is true.   These are used to
#   reference what MongoDB calls the normalized data model.  This feature is used
#   attributes that are stable, stored in one place (table), and readonly.
#   unique_id is a key to access data in table (a document in mongodb).  See
#   documentation for a full description of the concepts
Attributes:
# These are required attributes in an obspy trace object.  We keep them here
# to make that clear
  - name: npts
    type: int
    concept: Number of data samples
    aliases: nsamp wfdisc.nsamp
  - name: delta
    type: double
    concept: Data sample interval in seconds
    aliases: dt
  - name: sampling_rate
    type: double
    concept: Data sampling frequency in Hz=1/s
  - name: starttime
    type: double
    concept: Time of first sample of data (epoch time or relative to some other time mark)
    aliases: t0 time
  - name: calib
    type: double
    concept: Nominal conversion factor for changing sample data to ground motion units.
# These are additional attributes for the static site collection/table
  - name: site_id
    type: string
    concept:  String representation of ObjectId used to define a particular instrument/seismic station
    # this is not marked readonly as needs to be saved always in wf
    readonly:  false
    unique_id:  site_id
    collection:  site
  - name: net
    type: string
    concept: network code (net component of SEED net:sta:chan)
    aliases: network site.net channel.net wfdisc.net
    readonly: true
    unique_id: site_id
    collection: site
  - name: sta
    type: string
    concept: station code assigned to a spot on Earth (sta component of SEED net:sta:chan)
    aliases: station site.sta channel.sta wfdisc.sta KSTNM
    readonly: true
    unique_id: site_id
    collection: site
  - name: loc
    type: string
    concept: location code assigned to an instrument (loc component of SEED net:sta:chan)
    aliases: location site.loc channel.loc
    readonly: true
    unique_id: site_id
    collection: site
  - name: site.lat
    type: double
    concept:  latitude of a seismic station/instrument in degrees
    aliases: STLA site_lat
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site.lon
    type: double
    concept:  longitude of a seismic station/instrument in degrees
    aliases: STLO stlo site_lon
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site.elev
    type: double
    concept:  elevation of a seismic station/instrument in km (subtract emplacement depth for borehole instruments)
    aliases: STEL stel site_elev
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site.starttime
    type: double
    concept:  Time of seismic station/instrument starts recording
    aliases: site_starttime
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site.endtime
    type: double
    concept:  Time of seismic station/instrument ends recording
    aliases: site_endtime
    readonly: true
    unique_id:  site_id
    collection: site
# These define the css3.0 sitechan minimal Attributes which is renamed as channel here
  - name: channel_id
    type: string
    concept:  String representation of ObjectId used to define a particular component of data
    readonly:  false
    unique_id:  channel_id
    collection:  channel
  - name: chan
    type: string
    concept:  channel name (e.g. HHZ, BHE, etc.) - normally a SEED channel code
    aliases: channel KCMPNM channel.chan wfdisc.chan
    readonly: true
    unique_id: channel_id
    collection: channel
  - name: channel.hang
    type: double
    concept:  Azimuth (in degree) of a seismometer component - horizontal angle
    aliases: hang CMPAZ
    readonly: true
    unique_id: channel_id
    collection: channel
  - name: channel.vang
    type: double
    concept:  Inclination from +up (in degree) of a seismometer component - vertical angle
    aliases: vang CMPINC
    readonly: true
    unique_id: channel_id
    collection: channel
  - name: channel.lat
    type: double
    concept:  latitude of a seismic station/instrument in degrees
    aliases: channel_lat
    readonly: true
    unique_id:  channel_id
    collection: channel
  - name: channel.lon
    type: double
    concept:  longitude of a seismic station/instrument in degrees
    aliases: channel_lon
    readonly: true
    unique_id:  channel_id
    collection: channel
  - name: channel.elev
    type: double
    concept:  elevation of a seismic station/instrument in km (subtract emplacement depth for borehole instruments)
    aliases: channel_elev
    readonly: true
    unique_id:  channel_id
    collection: channel
  - name: channel.edepth
    type: double
    concept:  depth of a seismic station/instrument in km
    aliases: channel_edepth
    readonly: true
    unique_id:  channel_id
    collection: channel
  - name: channel.starttime
    type: double
    concept:  Time of channel starts recording
    aliases: channel_starttime
    readonly: true
    unique_id:  channel_id
    collection: channel
  - name: channel.endtime
    type: double
    concept:  Time of channel ends recording
    aliases: channel_endtime
    readonly: true
    unique_id:  channel_id
    collection: channel
# These are attributes for source data.   This schema does not support multiple
# source locations for a single seismic event.   We use source for the table name
# instead of event or origin to avoid make that clear.   An event-origin
# capability is probably possible, but would create baggage for the primary
# use goal of mspass
  - name: source_id
    type: string
    concept:  String representation of ObjectId used to define a particular seismic source
    # this is not marked readonly as needs to be saved always in wf
    readonly:  false
    unique_id:  source_id
    collection:  source
  - name: source.lat
    type: double
    concept: Latitude (in degrees) of the hypocenter of seismic source
    aliases:  source_lat EVLA origin.lat
    readonly: true
    unique_id: source_id
    collection: source
  - name: source.lon
    type: double
    concept: Longitude (in degrees) of the hypocenter of seismic source
    aliases:  source_lon EVLO origin.lon
    readonly: true
    unique_id: source_id
    collection: source
  - name: source.depth
    type: double
    concept: Depth (in km) of the hypocenter of seismic source
    aliases: source_depth EVDP origin.depth
    readonly: true
    unique_id: source_id
    collection: source
  - name: source.time
    type: double
    concept: Origin time of the hypocenter of seismic source (epoch time)
    aliases: source_time origin.time
    readonly: true
    unique_id: source_id
    collection: source
RAW:
  - name: evid
    type: int
    concept:  event id - used in CSS3.0 as the identifier of a particular seismic source
    readonly:  false
    unique_id:  source_id
    collection:  source 
    alias: event.evid
  - name: orid
    type: int
    concept:  origin id - used in CSS3.0 to handle multiple hypocenter locations of a common source
    readonly:  false
    unique_id:  source_id
    collection:  source 
    alias: origin.orid event.orid
  - name: KEVNM
    type: string
    concept: Event name 
    readonly: false
  - name: IEVTYP
    type:  int
    concept:  Event type code as used in SAC
    readonly: false
BasicTimeSeries:
  - name: time_standard
    type: string
    concept:  Defines time standard for meaning of t0 of a seismogram (default should be UTC)
    readonly: false
  - name: t0_shift
    type: double
    concept: Value of a time shift applied to a standard (normally UTC standard)
    readonly: false
ThreeComponentData:
  - name: tmatrix
    type: double_array
    concept:  3C data transformation matrix
    readonly: false
Magnitude:
  - name: ms
    type: double
    concept: Surface wave magnitude
    readonly: true
    unique_id: souce_id
    collection: source
  - name: mb
    type: double
    concept: Body wave magnitude
    readonly: true
    unique_id: souce_id
    collection: source
  - name: magnitude
    type: double
    concept: generic magnitude attribute
    readonly: false
    aliases: MAG
    unique_id: souce_id
    collection: source
External_files:
  - name: file.dfile
    type: string
    concept: External data file name.
    aliases: dfile wfdisc.dfile wfprocess.dfile
    readonly: false
  - name: file.dir
    type: string
    concept: Directory path to an external file (always used with dfile)
    aliases: dir wfdisc.dir wfprocess.dir
    readonly: false
  - name: file.foff
    type: int
    concept:  Offset in bytes from beginning of a file to first data sample.
    readonly: false
    aliases: foff wfdisc.foff wfprocess.foff
SeismicPhases:
  - name: phase
    type: string
    concept: Phase name assigned by an analyst to a pick
    readonly: false
  - name: iphase
    type: string
    concept:  Indicated phase (from CSS3.0) - phase name from travel time curve association
    readonly: false
  - name: seaz
    type: double
    concept: Station to event azimuth
    readonly: false
    aliases: BAZ
  - name: esaz
    type: double
    concept: Event to station azimuth
    readonly: false
    aliases: AZ
MongoDb:
# This set of parameters are essential for mspass, but are intimately linked to MongoDB
  - name: wf_id
    type: string
    concept:  Holds string representation of the ObjectID used to define an unique entry in wf collection.
    readonly: false
    collection: wf
  - name: gridfs.gridfs_id
    type: string
    concept: Holds string representation of the ObjectID used to index waveform data in wf.gridfs collection.
    readonly: false 
    collection: gridfs
  - name: url.url
    type: string
    concept: Holds string representation of the ObjectID used to index waveform data in wf.url collection.
    readonly: false
    collection: gridfs
# These are assorted attributes that can be used in wf but have not logical 
# grouping
Other:
  - name: units
    type:  string
    concept:  Physical units of sample data (nm/s is normal assumed default)
    readonly: false
    aliases: idep,IDEP
  - name: DEPMIN
    type: double
    concept: Maximum amplitude of a signal
    readonly: false
    aliases: depmin
  - name: DEPMAX
    type: double
    concept: Minimum amplitude of a signal
    readonly: false
    aliases: depmax
  - name: DEPMEN
    type: double
    concept: Mean amplitude of a signal
    readonly: false
    aliases: depmen
  - name: jdate
    type: int
    concept: Julian date string as used in CSS3.0
    readonly: false
  - name: IZTYPE
    type: int
    concept: Reference time type as used by SAC
    readonly: false
    aliases: TimeReferenceType
  - name: dist
    type: double
    concept: Source receiver distance
    readonly: false
    aliases: assoc.delta,GCARC
  - name: distance_units
    type: string
    concept: Units of dist attribute
    readonly: false
